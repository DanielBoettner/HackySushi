{"version":3,"file":"protocol.js","sourceRoot":"","sources":["../../src/core/protocol.ts"],"names":[],"mappings":"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"}